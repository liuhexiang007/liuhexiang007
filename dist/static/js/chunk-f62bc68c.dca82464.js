(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f62bc68c"],{4361:function(e,t,r){},"6f98":function(e,t,r){"use strict";r("4361")},"920b":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{height:"90vh"},attrs:{id:"permissionList"}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[r("span",[e._v("Accuracy Report")]),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addMenuClick}},[e._v("+ New")])],1)]),r("div",{staticClass:"content",attrs:{id:"content"}},[r("el-tree",{attrs:{data:e.permissionList,"node-key":"id","default-expand-all":"","expand-on-click-node":!1},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,a=t.data;return r("span",{staticClass:"custom-tree-node"},[r("span",[e._v(e._s(a.menuName+" ( "+a.orderNum+" ) "))]),r("span",[3!==n.level?r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.append(n,a)}}},[e._v(" add ")]):e._e(),r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.edit(n,a)}}},[e._v(" edit ")]),r("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.remove(n,a)}}},[e._v(" delete ")])],1)])}}])})],1)]),r("add-new-permission-dialog",{ref:"addNewPermissionDialog",on:{ok:e.updateData}})],1)},a=[],i=(r("d3b7"),r("0643"),r("4e3e"),r("159b"),r("be1b")),u=r("ad8f"),o={name:"PermissionList",components:{AddNewPermissionDialog:i["default"]},data:function(){return{permissionList:[],permissionAIList:[]}},mounted:function(){this.getPLMPermissionList()},methods:{getPLMPermissionList:function(){var e=this,t=this.$loading({target:document.querySelector("#content"),text:"Loading",spinner:"el-icon-loading"}),r={page:0,limit:500};Object(u["w"])({},r).then((function(r){if(t.close(),e.permissionList=[],r.data){var n=r.data.list,a=[];n.forEach((function(e){var t=[];e.parentId||(n.forEach((function(r){var a=[];n.forEach((function(e){e.parentId&&e.parentId===r["menuId"]&&a.push(e)})),r.children=a,r.parentId&&r.parentId===e["menuId"]&&t.push(r)})),e.children=t,a.push(e))})),e.permissionList=a}}))},addMenuClick:function(){this.$refs.addNewPermissionDialog.showDialog({},!1)},append:function(e,t){this.$refs.addNewPermissionDialog.showDialog(t,!1)},edit:function(e,t){this.$refs.addNewPermissionDialog.showDialog(t,!0)},remove:function(e,t){var r=this;this.$confirm("Are you sure to delete this permission menuï¼Ÿ","delete",{confirmButtonText:"Sure",cancelButtonText:"Cancel",type:"warning"}).then((function(){Object(u["u"])({},{menuId:t["menuId"]}).then((function(e){200===e.code?(r.$message({message:e.msg,type:"success"}),r.getPLMPermissionList()):r.$message.error(e.msg)}))})).catch((function(){}))},updateData:function(){this.getPLMPermissionList()}}},s=o,l=(r("6f98"),r("2877")),c=Object(l["a"])(s,n,a,!1,null,null,null);t["default"]=c.exports},ad8f:function(e,t,r){"use strict";r.d(t,"t",(function(){return a})),r.d(t,"s",(function(){return i})),r.d(t,"D",(function(){return u})),r.d(t,"I",(function(){return o})),r.d(t,"C",(function(){return s})),r.d(t,"r",(function(){return l})),r.d(t,"q",(function(){return c})),r.d(t,"b",(function(){return m})),r.d(t,"a",(function(){return d})),r.d(t,"d",(function(){return f})),r.d(t,"g",(function(){return p})),r.d(t,"h",(function(){return h})),r.d(t,"c",(function(){return b})),r.d(t,"k",(function(){return g})),r.d(t,"j",(function(){return v})),r.d(t,"J",(function(){return y})),r.d(t,"l",(function(){return j})),r.d(t,"m",(function(){return F})),r.d(t,"n",(function(){return O})),r.d(t,"i",(function(){return k})),r.d(t,"e",(function(){return w})),r.d(t,"f",(function(){return x})),r.d(t,"o",(function(){return N})),r.d(t,"p",(function(){return $})),r.d(t,"w",(function(){return P})),r.d(t,"v",(function(){return L})),r.d(t,"x",(function(){return I})),r.d(t,"u",(function(){return _})),r.d(t,"A",(function(){return z})),r.d(t,"z",(function(){return C})),r.d(t,"B",(function(){return D})),r.d(t,"y",(function(){return B})),r.d(t,"G",(function(){return M})),r.d(t,"F",(function(){return E})),r.d(t,"H",(function(){return S})),r.d(t,"E",(function(){return q}));r("99af");var n=r("b775");function a(e){return Object(n["a"])({url:"/table/material/list/search",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/a1/search",method:"get",params:e})}function u(e){return Object(n["a"])({url:"/a1/limit",method:"post",data:e})}function o(e,t){return Object(n["a"])({url:"/material/vendor/list",method:"get",params:e})}function s(e,t){return Object(n["a"])({url:"/material/servicePack/list",method:"get",params:e})}function l(e,t){return Object(n["a"])({url:"/feedback/list",method:"get",params:e})}function c(e){return Object(n["a"])({url:"/feedback/insert",method:"post",data:e})}function m(e){return Object(n["a"])({url:"/a2/update",method:"get",params:e})}function d(e,t){return Object(n["a"])({url:"/a2/list/".concat(t.page,"/").concat(t.limit),method:"get",params:e})}function f(e){return Object(n["a"])({url:"/a3/update",method:"get",params:e})}function p(e,t){return Object(n["a"])({url:"/a4/list/".concat(t.page,"/").concat(t.limit),method:"get",params:e})}function h(e){return Object(n["a"])({url:"/a4/update",method:"get",params:e})}function b(e,t){return Object(n["a"])({url:"/a3/list/".concat(t.page,"/").concat(t.limit),method:"get",params:e})}function g(e){return Object(n["a"])({url:"/c1/update",method:"get",params:e})}function v(e,t){return Object(n["a"])({url:"/c1/list/".concat(t.page,"/").concat(t.limit),method:"get",params:e})}function y(e){return Object(n["a"])({url:"/c2/vsns",method:"get",params:e})}function j(e){return Object(n["a"])({url:"/c2/makes",method:"get",params:e})}function F(e){return Object(n["a"])({url:"/c2/models",method:"get",params:e})}function O(e){return Object(n["a"])({url:"/c2/search",method:"get",params:e})}function k(e){return Object(n["a"])({url:"/b4/search",method:"get",params:e})}function w(e){return Object(n["a"])({url:"/a4/currencies",method:"get",params:e})}function x(e){return Object(n["a"])({url:"/a4/currency",method:"PUT",data:e})}function N(e){return Object(n["a"])({url:"/report/insert",method:"post",data:e})}function $(e,t){return Object(n["a"])({url:"/report/list/".concat(t.page,"/").concat(t.limit),method:"get",params:e})}function P(e,t){return Object(n["a"])({url:"/system/menu/list/".concat(t.page,"/").concat(t.limit),method:"get",params:e})}function L(e){return Object(n["a"])({url:"/system/menu",method:"post",data:e})}function I(e){return Object(n["a"])({url:"/system/menu",method:"put",data:e})}function _(e,t){return Object(n["a"])({url:"/system/menu/".concat(t.menuId),method:"delete",data:e})}function z(e,t){return Object(n["a"])({url:"/system/role/list/".concat(t.page,"/").concat(t.limit),method:"get",params:e})}function C(e){return Object(n["a"])({url:"/system/role",method:"post",data:e})}function D(e){return Object(n["a"])({url:"/system/role",method:"put",data:e})}function B(e,t){return Object(n["a"])({url:"/system/role/".concat(t.roleId),method:"delete",data:e})}function M(e,t){return Object(n["a"])({url:"/system/user/list/".concat(t.page,"/").concat(t.limit),method:"get",params:e})}function E(e){return Object(n["a"])({url:"/system/user",method:"post",data:e})}function S(e){return Object(n["a"])({url:"/system/user",method:"put",data:e})}function q(e,t){return Object(n["a"])({url:"/system/user/".concat(t.userId),method:"delete",data:e})}},be1b:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.title,visible:e.visible,width:"30%"},on:{"update:visible":function(t){e.visible=t}}},[r("div",{staticStyle:{display:"flex","justify-content":"center"}},[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"Sort:",prop:"orderNum"}},[r("el-input",{attrs:{size:"small",maxlength:"5",onkeyup:"value=value.replace(/[^\\d]/g,'')","show-word-limit":""},model:{value:e.ruleForm.orderNum,callback:function(t){e.$set(e.ruleForm,"orderNum",t)},expression:"ruleForm.orderNum"}})],1),r("el-form-item",{attrs:{label:"Menu Name:",prop:"menuName"}},[r("el-input",{attrs:{size:"small",maxlength:"50","show-word-limit":""},model:{value:e.ruleForm.menuName,callback:function(t){e.$set(e.ruleForm,"menuName",t)},expression:"ruleForm.menuName"}})],1),r("el-form-item",{attrs:{label:"Menu type:",prop:"menuType"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"Please select menu type"},model:{value:e.ruleForm.menuType,callback:function(t){e.$set(e.ruleForm,"menuType",t)},expression:"ruleForm.menuType"}},e._l(e.typeList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"Menu path:",prop:"path"}},[r("el-input",{attrs:{size:"small",maxlength:"50","show-word-limit":""},model:{value:e.ruleForm.path,callback:function(t){e.$set(e.ruleForm,"path",t)},expression:"ruleForm.path"}})],1),r("el-form-item",{attrs:{label:"Menu Label:",prop:"component"}},[r("el-input",{attrs:{size:"small",maxlength:"50","show-word-limit":""},model:{value:e.ruleForm.component,callback:function(t){e.$set(e.ruleForm,"component",t)},expression:"ruleForm.component"}})],1),r("el-form-item",{attrs:{label:"Hidden menu:",prop:"visible"}},[r("el-radio-group",{model:{value:e.ruleForm.visible,callback:function(t){e.$set(e.ruleForm,"visible",t)},expression:"ruleForm.visible"}},[r("el-radio",{attrs:{label:"1"}},[e._v("Yes")]),r("el-radio",{attrs:{label:"0"}},[e._v("No")])],1)],1),r("el-form-item",{attrs:{label:"Menu icon:",prop:"icon"}},[r("el-input",{attrs:{size:"small",maxlength:"30","show-word-limit":""},model:{value:e.ruleForm.icon,callback:function(t){e.$set(e.ruleForm,"icon",t)},expression:"ruleForm.icon"}})],1),r("el-form-item",{attrs:{label:"Remark:",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",size:"small",maxlength:"200","show-word-limit":""},model:{value:e.ruleForm.remark,callback:function(t){e.$set(e.ruleForm,"remark",t)},expression:"ruleForm.remark"}})],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"small"},on:{click:function(t){e.visible=!1}}},[e._v("Cancel")]),r("el-button",{attrs:{disabled:e.isBusy,type:"primary",size:"small"},on:{click:e.makeSureAction}},[e._v("Confirm")])],1)])],1)},a=[],i=r("ad8f"),u={name:"AddNewPermissionDialog",data:function(){return{visible:!1,isBusy:!1,title:"",record:"",type:"",isEdit:!1,typeList:[{label:"Catalog",value:"M"},{label:"Menu",value:"C"},{label:"Button",value:"F"}],ruleForm:{menuId:"",orderNum:"",menuName:"",path:"",component:"",menuType:"",parentId:"",parentName:"",query:"0",isFrame:"0",isCache:"0",visible:"",status:"0",icon:"",remark:""},rules:{orderNum:[{required:!0,message:"Please enter the sort number",trigger:"blur"}],menuName:[{required:!0,message:"Please enter a menu name",trigger:"blur"}],menuType:[{required:!0,message:"Please enter a menu type",trigger:"change"}],path:[{required:!0,message:"Please enter the menu label",trigger:"blur"}],component:[{required:!0,message:"Please enter the menu label",trigger:"blur"}],visible:[{required:!0,message:"Please select whether the menu is hidden",trigger:"change"}]}}},methods:{showDialog:function(e,t,r){if(this.$refs.ruleForm&&this.$refs.ruleForm.resetFields(),this.title=t?"Edit menu":"New menu",this.record=e,this.type=r,this.isEdit=t,t)for(var n in this.ruleForm)this.ruleForm[n]=e[n];else{for(var a in this.ruleForm)this.ruleForm[a]="";this.ruleForm.parentId=e["menuId"],this.ruleForm.parentName=e["menuName"],this.ruleForm.visible="0"}this.isBusy=!1,this.visible=!0},makeSureAction:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(!t)return!1;e.isBusy?e.$message.warning("Do not repeat operations during data submission"):(e.isBusy=!0,e.isEdit?Object(i["x"])(e.ruleForm).then((function(t){200===t.code?(e.visible=!1,e.$message({message:t.msg,type:"success"}),e.$emit("ok")):e.$message.error(t.msg),e.isBusy=!1})).catch((function(){e.isBusy=!1})):Object(i["v"])(e.ruleForm).then((function(t){200===t.code?(e.visible=!1,e.$message({message:t.msg,type:"success"}),e.$emit("ok")):e.$message.error(t.msg),e.isBusy=!1})).catch((function(){e.isBusy=!1})))}))}}},o=u,s=r("2877"),l=Object(s["a"])(o,n,a,!1,null,"2a0fb982",null);t["default"]=l.exports}}]);