(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d491ede"],{"67de":function(t,e,o){},"9ed6":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"plm-login"},[o("div",{staticClass:"login-container"},[o("div",{staticClass:"contain-right"},[o("div",{staticClass:"title-container"},[o("span",{staticClass:"title"},[t._v(t._s(t.$t("login.title")))]),t.isForgetPassword?o("div",{staticClass:"login-forgetPassword"},[o("el-steps",{staticStyle:{width:"90%","margin-top":"20px"},attrs:{active:t.stepActive,"finish-status":"success",simple:""}},[o("el-step",{attrs:{title:t.$t("login.verify"),icon:"el-icon-message"}}),o("el-step",{attrs:{title:t.$t("login.changePassword"),icon:"el-icon-edit"}})],1),0===t.stepActive?o("div",{staticClass:"login-emailCode"},[o("el-form",{ref:"loginFormEmail",staticClass:"login-form",attrs:{model:t.loginFormEmail,rules:t.loginEmailRules,"auto-complete":"on","label-position":"left"}},[o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{ref:"username",staticStyle:{height:"3.125rem"},attrs:{placeholder:t.$t("login.userPlaceholder"),name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:t.loginFormEmail.username,callback:function(e){t.$set(t.loginFormEmail,"username",e)},expression:"loginFormEmail.username"}})],1),o("el-form-item",{attrs:{prop:"emailCode"}},[o("div",{staticStyle:{display:"flex"}},[o("el-input",{ref:"emailCode",staticStyle:{height:"3.125rem",width:"60%"},attrs:{type:"text",placeholder:t.$t("login.emailCodePlaceholder"),name:"emailCode",tabindex:"2","auto-complete":"off"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleNext.apply(null,arguments)}},model:{value:t.loginFormEmail.emailCode,callback:function(e){t.$set(t.loginFormEmail,"emailCode",e)},expression:"loginFormEmail.emailCode"}}),t.show?o("span",{staticStyle:{"margin-left":"10px",width:"40%",cursor:"pointer"},on:{click:t.sendEmail}},[t._v(t._s(t.$t("login.getEmailCode")))]):o("span",{staticStyle:{"margin-left":"10px",width:"40%"}},[t._v(t._s(t.count)+"s"+t._s(t.$t("login.getEmailCodeMessage")))])],1)]),o("el-button",{staticClass:"el_button",attrs:{loading:t.loadingEmail,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleNext.apply(null,arguments)}}},[t._v(t._s(t.$t("login.next")))]),o("span",{staticStyle:{float:"right","margin-top":"20px","margin-bottom":"20px",cursor:"pointer"},on:{click:t.forgetPassword}},[t._v(t._s(t.$t("login.backLogin")))])],1)],1):o("div",{staticClass:"login-emailCode"},[o("el-form",{ref:"loginFormPassword",staticClass:"login-form",attrs:{model:t.loginFormPassword,rules:t.loginPasswordRules,"auto-complete":"on","label-position":"left"}},[o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{staticStyle:{height:"3.125rem"},attrs:{placeholder:t.$t("resetPasswordDialog.newPassword"),"show-password":"",autocomplete:"off"},model:{value:t.loginFormPassword.password,callback:function(e){t.$set(t.loginFormPassword,"password",e)},expression:"loginFormPassword.password"}})],1),o("el-form-item",{attrs:{prop:"checkPassword"}},[o("el-input",{attrs:{placeholder:t.$t("resetPasswordDialog.markSure"),"show-password":"",autocomplete:"off",maxlength:"16","show-word-limit":""},model:{value:t.loginFormPassword.checkPassword,callback:function(e){t.$set(t.loginFormPassword,"checkPassword",e)},expression:"loginFormPassword.checkPassword"}})],1),o("el-button",{staticClass:"el_button",attrs:{loading:t.loadingPassword,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleChangePassword.apply(null,arguments)}}},[t._v(t._s(t.$t("login.changePassword")))]),o("span",{staticStyle:{float:"right","margin-top":"20px","margin-bottom":"20px",cursor:"pointer"},on:{click:t.forgetPassword}},[t._v(t._s(t.$t("login.backLogin")))])],1)],1)],1):o("div",{staticClass:"login-content"},[t.isEmailLogin?o("div",{staticClass:"login-emailCode login-user"},[o("el-form",{ref:"loginFormEmail",staticClass:"login-form",attrs:{model:t.loginFormEmail,rules:t.loginEmailRules,"auto-complete":"on","label-position":"left"}},[o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{staticStyle:{height:"3.125rem"},attrs:{placeholder:t.$t("login.userPlaceholder"),name:"email",type:"text",tabindex:"1","auto-complete":"on"},model:{value:t.loginFormEmail.username,callback:function(e){t.$set(t.loginFormEmail,"username",e)},expression:"loginFormEmail.username"}})],1),o("el-form-item",{attrs:{prop:"emailCode"}},[o("div",{staticStyle:{display:"flex"}},[o("el-input",{staticStyle:{height:"3.125rem",width:"60%"},attrs:{type:"text",placeholder:t.$t("login.emailCodePlaceholder"),name:"emailCode",tabindex:"2","auto-complete":"off"},model:{value:t.loginFormEmail.emailCode,callback:function(e){t.$set(t.loginFormEmail,"emailCode",e)},expression:"loginFormEmail.emailCode"}})],1)]),o("el-button",{staticClass:"el_button",attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLoginEmail.apply(null,arguments)}}},[t._v(t._s(t.$t("login.loginTitle")))]),o("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"flex-end"}},[o("span",{staticStyle:{float:"right","margin-top":"20px","margin-bottom":"20px",cursor:"pointer"},on:{click:function(e){t.isEmailLogin=!1}}},[t._v("Back password")])])],1)],1):o("div",{staticClass:"login-user"},[o("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.loginForm,rules:t.loginRules,"auto-complete":"on","label-position":"left"}},[o("el-form-item",{attrs:{prop:"username"}},[o("el-input",{ref:"username",staticStyle:{height:"3.125rem"},attrs:{placeholder:t.$t("login.userPlaceholder"),name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{key:t.passwordType,ref:"password",staticStyle:{height:"3.125rem"},attrs:{type:t.passwordType,placeholder:t.$t("login.passwordPlaceholder"),name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleLogin.apply(null,arguments)}},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}}),o("span",{staticClass:"show-pwd",on:{click:t.showPwd}},[o("svg-icon",{attrs:{"icon-class":"password"===t.passwordType?"eye":"eye-open"}})],1)],1),o("el-button",{staticClass:"el_button",attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin.apply(null,arguments)}}},[t._v(t._s(t.$t("login.loginTitle")))]),o("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"flex-end"}},[o("span",{staticStyle:{float:"right","margin-top":"20px","margin-bottom":"20px",cursor:"pointer"},on:{click:t.forgetPassword}},[t._v(t._s(t.$t("login.forgetPassword")))])])],1)],1)])]),o("h3",{staticStyle:{position:"absolute",width:"100%","text-align":"center",bottom:"0",color:"rgb(141, 141, 141)"}},[t._v(t._s(t.$t("login.contactMessage")))])])]),o("reset-password-dialog",{ref:"resetPasswordDialog"})],1)},n=[],a=(o("e9c4"),o("ac1f"),o("00b4"),o("c988")),i=(o("ad8f"),o("c24f")),s={name:"Login",components:{ResetPasswordDialog:a["default"]},data:function(){var t=this,e=this,o=function(t,o,r){o.length<3?r(new Error(e.$t("login.userNameMessage"))):r()},r=function(t,o,r){o.length<9?r(new Error(e.$t("login.passwordMessage"))):r()},n=function(o,r,n){var a=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{9,16}$/;""===r?n(new Error(e.$t("resetPasswordDialog.passwordMessage2"))):a.test(r)?(""!==t.loginFormPassword.checkPassword&&t.$refs.loginFormPassword.validateField("checkPassword"),n()):n(new Error(e.$t("resetPasswordDialog.passwordMessage5")))},a=function(o,r,n){""===r?n(new Error(e.$t("resetPasswordDialog.passwordMessage3"))):r!==t.loginFormPassword.password?n(new Error(e.$t("resetPasswordDialog.passwordMessage4"))):n()};return{isEmailLogin:!1,loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:o}],password:[{required:!0,trigger:"blur",validator:r}]},registerForm:{username:"",password:"",passwordAgain:"",detailsId:""},loading:!1,activeName:"first",passwordType:"password",redirect:"undefined",isForgetPassword:!1,stepActive:0,loadingEmail:!1,loadingPassword:!1,loginFormEmail:{username:"",emailCode:""},loginEmailRules:{username:[{required:!0,message:this.$t("login.loginUserNameMessage"),trigger:"blur"}],emailCode:[{required:!0,message:this.$t("login.loginEmailCodeMessage"),trigger:"blur"}]},loginFormPassword:{password:"",checkPassword:"",uuid:""},loginPasswordRules:{password:[{required:!0,validator:n,trigger:"blur"}],checkPassword:[{required:!0,validator:a,trigger:"blur"}]},show:!0,count:"",timer:null}},watch:{$route:{handler:function(t){this.redirect=t.query&&t.query.redirect},immediate:!0}},mounted:function(){},methods:{showPwd:function(){var t=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){t.$refs.password.focus()}))},emailLogin:function(){var t=this;this.isEmailLogin=!this.isEmailLogin,this.$nextTick((function(){t.$refs.loginFormEmail&&t.$refs.loginFormEmail.resetFields(),t.$refs.loginForm&&t.$refs.loginForm.resetFields()}))},forgetPassword:function(){this.isForgetPassword=!this.isForgetPassword,this.loginForm.username.length>0&&this.isForgetPassword&&(this.loginFormEmail.username=this.loginForm.username),this.loadingEmail=!1,this.loadingPassword=!1},getCode:function(){var t=this,e=60;this.timer||(this.count=e,this.show=!1,this.timer=setInterval((function(){t.count>0&&t.count<=e?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null)}),1e3))},sendEmail:function(){var t=this;this.loginFormEmail.username.length<=0?this.$message.error(this.$t("login.loginUserNameMessage")):(this.getCode(),Object(i["b"])({email:this.loginFormEmail.username}).then((function(e){200===e.status?(console.log(e.data),t.$message.success(e.message)):t.$message.error(e.message)})))},handleNext:function(){var t=this;this.$refs.loginFormEmail.validate((function(e){e&&(t.stepActive=1)}))},handleChangePassword:function(){this.$refs.loginFormPassword.validate((function(t){}))},handleLogin:function(){var t=this;this.$refs.loginForm.validate((function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0;var o={username:t.loginForm.username,password:t.loginForm.password};t.$store.dispatch("user/login",o).then((function(e){Object(i["c"])().then((function(o){var r=o.data;r&&r.length>0?(localStorage.setItem("isRouter_AOP",JSON.stringify(r)),t.$router.push({path:e}),t.loading=!1):t.$message.warning("The menu list is not available. Contact the administrator to assign it!")}))})).catch((function(){t.loading=!1}))}))},handleLoginEmail:function(){var t=this;this.$refs.loginFormEmail.validate((function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0;var o={userName:t.loginFormEmail.username,emailCode:t.loginFormEmail.emailCode};t.$store.dispatch("user/emailLogin",o).then((function(e){t.$router.push({path:e}),t.loading=!1})).catch((function(){t.loading=!1}))}))}}},l=s,u=(o("ed31"),o("2877")),c=Object(u["a"])(l,r,n,!1,null,"3cfa0af4",null);e["default"]=c.exports},ad8f:function(t,e,o){"use strict";o.d(e,"t",(function(){return n})),o.d(e,"s",(function(){return a})),o.d(e,"D",(function(){return i})),o.d(e,"I",(function(){return s})),o.d(e,"C",(function(){return l})),o.d(e,"r",(function(){return u})),o.d(e,"q",(function(){return c})),o.d(e,"b",(function(){return d})),o.d(e,"a",(function(){return m})),o.d(e,"d",(function(){return g})),o.d(e,"g",(function(){return p})),o.d(e,"h",(function(){return f})),o.d(e,"c",(function(){return h})),o.d(e,"k",(function(){return w})),o.d(e,"j",(function(){return b})),o.d(e,"J",(function(){return v})),o.d(e,"l",(function(){return y})),o.d(e,"m",(function(){return F})),o.d(e,"n",(function(){return $})),o.d(e,"i",(function(){return P})),o.d(e,"e",(function(){return E})),o.d(e,"f",(function(){return k})),o.d(e,"o",(function(){return C})),o.d(e,"p",(function(){return O})),o.d(e,"w",(function(){return x})),o.d(e,"v",(function(){return j})),o.d(e,"x",(function(){return _})),o.d(e,"u",(function(){return S})),o.d(e,"A",(function(){return L})),o.d(e,"z",(function(){return D})),o.d(e,"B",(function(){return T})),o.d(e,"y",(function(){return M})),o.d(e,"G",(function(){return q})),o.d(e,"F",(function(){return A})),o.d(e,"H",(function(){return N})),o.d(e,"E",(function(){return R}));o("99af");var r=o("b775");function n(t){return Object(r["a"])({url:"/table/material/list/search",method:"get",params:t})}function a(t){return Object(r["a"])({url:"/a1/search",method:"get",params:t})}function i(t){return Object(r["a"])({url:"/a1/limit",method:"post",data:t})}function s(t,e){return Object(r["a"])({url:"/material/vendor/list",method:"get",params:t})}function l(t,e){return Object(r["a"])({url:"/material/servicePack/list",method:"get",params:t})}function u(t,e){return Object(r["a"])({url:"/feedback/list",method:"get",params:t})}function c(t){return Object(r["a"])({url:"/feedback/insert",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/a2/update",method:"get",params:t})}function m(t,e){return Object(r["a"])({url:"/a2/list/".concat(e.page,"/").concat(e.limit),method:"get",params:t})}function g(t){return Object(r["a"])({url:"/a3/update",method:"get",params:t})}function p(t,e){return Object(r["a"])({url:"/a4/list/".concat(e.page,"/").concat(e.limit),method:"get",params:t})}function f(t){return Object(r["a"])({url:"/a4/update",method:"get",params:t})}function h(t,e){return Object(r["a"])({url:"/a3/list/".concat(e.page,"/").concat(e.limit),method:"get",params:t})}function w(t){return Object(r["a"])({url:"/c1/update",method:"get",params:t})}function b(t,e){return Object(r["a"])({url:"/c1/list/".concat(e.page,"/").concat(e.limit),method:"get",params:t})}function v(t){return Object(r["a"])({url:"/c2/vsns",method:"get",params:t})}function y(t){return Object(r["a"])({url:"/c2/makes",method:"get",params:t})}function F(t){return Object(r["a"])({url:"/c2/models",method:"get",params:t})}function $(t){return Object(r["a"])({url:"/c2/search",method:"get",params:t})}function P(t){return Object(r["a"])({url:"/b4/search",method:"get",params:t})}function E(t){return Object(r["a"])({url:"/a4/currencies",method:"get",params:t})}function k(t){return Object(r["a"])({url:"/a4/currency",method:"PUT",data:t})}function C(t){return Object(r["a"])({url:"/report/insert",method:"post",data:t})}function O(t,e){return Object(r["a"])({url:"/report/list/".concat(e.page,"/").concat(e.limit),method:"get",params:t})}function x(t,e){return Object(r["a"])({url:"/system/menu/list/".concat(e.page,"/").concat(e.limit),method:"get",params:t})}function j(t){return Object(r["a"])({url:"/system/menu",method:"post",data:t})}function _(t){return Object(r["a"])({url:"/system/menu",method:"put",data:t})}function S(t,e){return Object(r["a"])({url:"/system/menu/".concat(e.menuId),method:"delete",data:t})}function L(t,e){return Object(r["a"])({url:"/system/role/list/".concat(e.page,"/").concat(e.limit),method:"get",params:t})}function D(t){return Object(r["a"])({url:"/system/role",method:"post",data:t})}function T(t){return Object(r["a"])({url:"/system/role",method:"put",data:t})}function M(t,e){return Object(r["a"])({url:"/system/role/".concat(e.roleId),method:"delete",data:t})}function q(t,e){return Object(r["a"])({url:"/system/user/list/".concat(e.page,"/").concat(e.limit),method:"get",params:t})}function A(t){return Object(r["a"])({url:"/system/user",method:"post",data:t})}function N(t){return Object(r["a"])({url:"/system/user",method:"put",data:t})}function R(t,e){return Object(r["a"])({url:"/system/user/".concat(e.userId),method:"delete",data:t})}},ed31:function(t,e,o){"use strict";o("67de")}}]);